(this.webpackJsonpelfsight=this.webpackJsonpelfsight||[]).push([[0],{16:function(e,t,n){e.exports={header:"Album_header__34Xu1",grid:"Album_grid__21eKn",item:"Album_item__3Qp_9",img:"Album_img__197Id",name:"Album_name__34T4v",link:"Album_link__3xxWx"}},18:function(e,t,n){e.exports={header:"Photo_header__2qHo6",grid:"Photo_grid__2gBwc",item:"Photo_item__1LZAT",popup:"Photo_popup__36K8m","btn-wrap":"Photo_btn-wrap__2YHox"}},21:function(e,t,n){e.exports={grid:"Home_grid__1YNYs",item:"Home_item__1FYgn",name:"Home_name__1DxmH",link:"Home_link__TL70U"}},25:function(e,t,n){e.exports={wrap:"Popup_wrap__3Tlor",overlay:"Popup_overlay__1AYS5",body:"Popup_body__2WnEX"}},31:function(e,t,n){e.exports={button:"Button_button__2_KMK"}},38:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(22),a=n.n(r),s=(n(37),n(38),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))}),o=n(4),i=n(21),u=n.n(i),l=n(11),d=n(8),j=n(12),b=n.n(j),h=n(14),p=n(9),m=function(e){return fetch("https://jsonplaceholder.typicode.com/users/".concat(e,"/albums"))},f=function(e){return fetch("https://jsonplaceholder.typicode.com/albums/".concat(e,"/photos"))},O=Object(p.b)("getUsers",Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/users");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),x=Object(p.c)({name:"users",initialState:{users:[]},reducers:{},extraReducers:function(e){e.addCase(O.fulfilled,(function(e,t){var n=t.payload;e.users=n}))}}).reducer,g=n(24),v=Object(p.b)("getAlbums",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),_=Object(p.b)("getPhotos",Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/photos");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),w=Object(p.c)({name:"albums",initialState:{albums:[],photos:[],currentPhotos:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(v.pending,(function(e,t){t.payload;e.loading=!0})),e.addCase(v.fulfilled,(function(e,t){var n=t.payload;e.albums=n,e.loading=!1})),e.addCase(_.fulfilled,(function(e,t){var n=t.payload;e.photos=n}))}});Object(g.a)(w.actions);var k=w.reducer,N=Object(p.b)("getPhotosById",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),P=Object(p.c)({name:"photos",initialState:{photos:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(N.pending,(function(e,t){t.payload;e.loading=!0})),e.addCase(N.fulfilled,(function(e,t){var n=t.payload;e.photos=n,e.loading=!1}))}});Object(g.a)(P.actions);var y=P.reducer,C={getUsers:O,getAlbums:v,getPhotos:_,getPhotosById:N},A=function(){var e=Object(l.b)();return Object(d.b)(C,e)},B=function(e){return e.users},I=n(13),F=n(1),S=function(){var e=A().getUsers,t=Object(l.c)(B).users;return Object(c.useEffect)((function(){e()}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h1",{children:"Users"}),Object(F.jsx)("div",{className:u.a.grid,children:t.map((function(e){var t=e.name,n=e.id;return Object(F.jsxs)("div",{className:u.a.item,children:[Object(F.jsx)("h3",{className:u.a.name,children:t}),Object(F.jsx)(I.b,{className:u.a.link,to:"/album/".concat(n),children:"View album"})]},"".concat(n))}))})]})},H=n(16),E=n.n(H),T=n(20),U=function(e){return e.albums.albums.map((function(t){return Object(T.a)(Object(T.a)({},t),{},{photos:e.albums.photos.filter((function(e){return t.id===e.albumId}))})}))},Y=function(e){return e.albums.loading},K=n(31),L=n.n(K),R=function(e){var t=e.onClick,n=e.children;return Object(F.jsx)("button",{className:L.a.button,onClick:t,children:n})},D=function(){var e=Object(o.f)().id,t=Object(l.c)(U),n=Object(l.c)(Y),r=A(),a=r.getAlbums,s=r.getPhotos,i=Object(o.e)();Object(c.useEffect)((function(){s()}),[]),Object(c.useEffect)((function(){a(e)}),[e]);return n?Object(F.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:E.a.header,children:[Object(F.jsx)("h1",{children:"Albums"}),Object(F.jsx)(R,{onClick:function(){i.goBack()},children:"Back"})]}),Object(F.jsx)("div",{className:E.a.grid,children:t.map((function(e){var t,n=e.id,c=e.photos,r=e.title;return Object(F.jsxs)(I.b,{to:"/photo/".concat(n),className:E.a.item,children:[Object(F.jsx)("img",{className:E.a.img,src:null===(t=c[0])||void 0===t?void 0:t.thumbnailUrl,alt:"image"}),Object(F.jsx)("h2",{className:E.a.name,children:r}),Object(F.jsxs)("p",{className:E.a["photo-count"],children:["\u041a\u043e\u043b-\u0432\u043e \u0444\u043e\u0442\u043e: ",c.length]})]},"".concat(n))}))})]})},J=n(32),V=n(18),W=n.n(V),X=function(e){return e.photos},q=n(25),M=n.n(q),Q=function(e){var t=e.children,n=e.setPopupInfo;return Object(F.jsxs)("div",{className:M.a.wrap,children:[Object(F.jsx)("div",{onClick:function(){return n({index:null,open:!1})},className:M.a.overlay}),Object(F.jsx)("div",{className:M.a.body,children:t})]})},Z=n(50),z=n(49),G=(n(46),function(){var e=Object(o.f)().id,t=Object(l.c)(X),n=t.photos,r=t.loading,a=A().getPhotosById,s=Object(o.e)(),i=Object(c.useState)({}),u=Object(J.a)(i,2),d=u[0],j=u[1],b=Object(c.useRef)(null);Object(c.useEffect)((function(){a(e)}),[e]);var h=function(e){var t=e.target.dataset.id;j({index:t,open:!0})};return r?Object(F.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:W.a.header,children:[Object(F.jsx)("h1",{children:"Photos"}),Object(F.jsx)(R,{onClick:function(){s.goBack()},children:"Back"})]}),Object(F.jsx)("div",{className:W.a.grid,children:n.map((function(e,t){var n=e.id,c=e.url,r=e.title;return Object(F.jsx)("div",{className:W.a.item,children:Object(F.jsx)("img",{"data-id":t,src:c,alt:r,onClick:h})},n)}))}),Object(F.jsx)("div",{className:W.a.popup,children:d.open&&Object(F.jsxs)(Q,{setPopupInfo:j,children:[Object(F.jsx)(Z.a,{spaceBetween:50,slidesPerView:3,grabCursor:!0,initialSlide:d.index,centeredSlides:!0,ref:b,children:n.map((function(e){var t=e.id,n=e.url,c=e.title;return Object(F.jsx)(z.a,{children:Object(F.jsx)("img",{id:t,src:n,alt:c})},t)}))}),Object(F.jsxs)("div",{className:W.a["btn-wrap"],children:[Object(F.jsx)(R,{onClick:function(){b.current&&b.current.swiper&&b.current.swiper.slideNext()},children:"Next"}),Object(F.jsx)(R,{onClick:function(){b.current&&b.current.swiper&&b.current.swiper.slidePrev()},children:"Prev"})]})]})})]})}),$=function(){return Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)(o.a,{exact:!0,path:"/",children:Object(F.jsx)(S,{})}),Object(F.jsx)(o.a,{path:"/album/:id",children:Object(F.jsx)(D,{})}),Object(F.jsx)(o.a,{path:"/photo/:id",children:Object(F.jsx)(G,{})})]})},ee={users:x,albums:k,photos:y},te=Object(p.a)({reducer:Object(T.a)({},ee)});a.a.render(Object(F.jsx)(I.a,{basename:"/elfsight-test",children:Object(F.jsx)(l.a,{store:te,children:Object(F.jsx)($,{})})}),document.getElementById("root")),s()}},[[47,1,2]]]);
//# sourceMappingURL=main.dc158d6a.chunk.js.map