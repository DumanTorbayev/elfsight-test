(this.webpackJsonpelfsight=this.webpackJsonpelfsight||[]).push([[0],{12:function(e,t,n){e.exports={header:"Album_header__9tNao",grid:"Album_grid__36f37",item:"Album_item__3Cqmh",img:"Album_img__1m4Bo","text-wrap":"Album_text-wrap__23Rfm",name:"Album_name__3gbbm",link:"Album_link__19qCY"}},16:function(e,t,n){e.exports={wrap:"Carousel_wrap__1QU2G",btns:"Carousel_btns__3qxab",carousel:"Carousel_carousel__1TWpp",slide:"Carousel_slide__2inBQ",_active:"Carousel__active__1hUGN"}},19:function(e,t,n){e.exports={header:"Photo_header__1I8ZN",grid:"Photo_grid__uocWy",item:"Photo_item__1NgsX",popup:"Photo_popup__1Lfp4","btn-wrap":"Photo_btn-wrap__1P3td"}},22:function(e,t,n){e.exports={grid:"Home_grid__2jcRz",item:"Home_item__3Gu9g",name:"Home_name__fZDvV"}},23:function(e,t,n){e.exports={wrap:"Popup_wrap__3Tlor",overlay:"Popup_overlay__1AYS5",body:"Popup_body__2WnEX"}},26:function(e,t,n){e.exports={container:"Preloader_container__1ZJzZ",spinner:"Preloader_spinner__1-fCQ","lsd-spinner":"Preloader_lsd-spinner__2wWP5"}},29:function(e,t,n){e.exports={button:"Button_button__2_KMK"}},36:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(20),r=n.n(a),s=(n(35),n(36),n(3)),i=n(22),o=n.n(i),u=n(10),l=n(11),d=n(9),j=n.n(d),b=n(14),p=n(7),h="https://jsonplaceholder.typicode.com",m=function(e){return["".concat(h,"/users/").concat(e,"/albums"),"".concat(h,"/photos")]},f=function(e){return fetch("".concat(h,"/albums/").concat(e,"/photos"))},x=Object(p.b)("getAllUsers",Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h,"/users"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),O=Object(p.c)({name:"users",initialState:{data:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(x.pending,(function(e){e.loading=!0})),e.addCase(x.fulfilled,(function(e,t){var n=t.payload;e.data=n,e.loading=!1}))}}).reducer,_=n(30),v=Object(p.b)("getAlbumsById",function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(m(t).map(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return n=e.sent,c=Object(_.a)({},n),e.abrupt("return",c[0].map((function(e){var t=c[1].filter((function(t){return e.id===t.albumId}));return e.photosCount=t.length,e.thumbnailUrl=t[0].thumbnailUrl,e})));case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),g=Object(p.c)({name:"albums",initialState:{data:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(v.pending,(function(e){e.loading=!0})),e.addCase(v.fulfilled,(function(e,t){var n=t.payload;e.data=n,e.loading=!1}))}}).reducer,N=Object(p.b)("getPhotosById",function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),C=Object(p.c)({name:"photos",initialState:{data:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(N.pending,(function(e){e.loading=!0})),e.addCase(N.fulfilled,(function(e,t){var n=t.payload;e.data=n,e.loading=!1}))}}).reducer,w={getAllUsers:x,getAlbumsById:v,getPhotosById:N},y=function(){var e=Object(u.b)();return Object(l.b)(w,e)},P=function(e){return e.users},k=n(13),A=n(26),B=n.n(A),I=n(1),U=function(){return Object(I.jsx)("div",{className:B.a.container,children:Object(I.jsx)("div",{className:B.a.spinner,children:Array.from({length:12}).map((function(e,t){return Object(I.jsx)("div",{},"".concat(e,"/").concat(t))}))})})},S=function(){var e=y().getAllUsers,t=Object(u.c)(P),n=t.data,a=t.loading;return Object(c.useEffect)((function(){e()}),[]),a?Object(I.jsx)(U,{}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h1",{children:"Authors"}),Object(I.jsx)("div",{className:o.a.grid,children:n.map((function(e){var t=e.name,n=e.id;return Object(I.jsxs)("div",{className:o.a.item,children:[Object(I.jsx)("h3",{className:o.a.name,children:t}),Object(I.jsx)(k.b,{className:"btn-primary",to:"/album/".concat(n),children:"View album"})]},"".concat(n))}))})]})},E=n(12),R=n.n(E),W=n(29),Z=n.n(W),q=function(e){var t=e.onClick,n=e.children;return Object(I.jsx)("button",{className:Z.a.button,onClick:t,children:n})},F=function(){var e=Object(s.e)();return Object(I.jsx)(q,{onClick:function(){return e.goBack()},children:"Back"})},G=function(e){return e.albums},H=function(){var e=Object(s.f)().id,t=Object(u.c)(G),n=t.data,a=t.loading,r=y().getAlbumsById;return Object(c.useEffect)((function(){r(e)}),[e]),a?Object(I.jsx)(U,{}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:R.a.header,children:[Object(I.jsx)("h1",{children:"Albums"}),Object(I.jsx)(F,{})]}),Object(I.jsx)("div",{className:R.a.grid,children:n.map((function(e){var t=e.id,n=e.title,c=e.thumbnailUrl,a=e.photosCount;return Object(I.jsxs)("div",{className:R.a.item,children:[Object(I.jsx)("div",{className:R.a.img,children:Object(I.jsx)("img",{className:R.a.img,src:c,alt:n})}),Object(I.jsxs)("div",{className:R.a["text-wrap"],children:[Object(I.jsx)("h2",{className:R.a.name,children:n}),Object(I.jsxs)("p",{className:R.a["photo-count"],children:["\u041a\u043e\u043b-\u0432\u043e \u0444\u043e\u0442\u043e: ",a]})]}),Object(I.jsx)(k.b,{className:"btn-primary ".concat(R.a.link),to:"/photo/".concat(t),children:"View"})]},"".concat(t))}))})]})},J=n(18),Q=n(19),V=n.n(Q),z=function(e){return e.photos},K=n(23),T=n.n(K),X=function(e){var t=e.children,n=e.handleClosePopup;return Object(I.jsxs)("div",{className:T.a.wrap,children:[Object(I.jsx)("div",{onClick:n,className:T.a.overlay}),Object(I.jsx)("div",{className:T.a.body,children:t})]})},Y=n(16),D=n.n(Y),L=function(e){var t=e.items,n=e.currentIndex,a=Object(c.useState)(n),r=Object(J.a)(a,2),s=r[0],i=r[1];return Object(I.jsxs)("div",{className:D.a.wrap,children:[Object(I.jsx)("ul",{className:D.a.carousel,children:t.map((function(e,t){var n=e.id,c=e.url,a=e.title;return Object(I.jsx)("li",{className:"".concat(D.a.slide," ").concat(t===s?"".concat(D.a._active):""),children:Object(I.jsx)("img",{id:n,src:c,alt:a})},n)}))}),Object(I.jsxs)("div",{className:D.a.btns,children:[Object(I.jsx)(q,{onClick:function(){var e=s;e<1&&(e=t.length),--e,i(e)},children:"Prev"}),Object(I.jsx)(q,{onClick:function(){var e=s;e===t.length-1&&(e=-1),++e,i(e)},children:"Next"})]})]})},M=function(){var e=Object(s.f)().id,t=Object(u.c)(z),n=t.data,a=t.loading,r=y().getPhotosById,i=Object(c.useState)(!1),o=Object(J.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)(null),b=Object(J.a)(j,2),p=b[0],h=b[1];Object(c.useEffect)((function(){r(e)}),[e]);return a?Object(I.jsx)(U,{}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:V.a.header,children:[Object(I.jsx)("h1",{children:"Photos"}),Object(I.jsx)(F,{})]}),Object(I.jsx)("div",{className:V.a.grid,children:n.map((function(e,t){var n=e.id,c=e.url,a=e.title;return Object(I.jsx)("div",{className:V.a.item,children:Object(I.jsx)("img",{src:c,alt:a,onClick:function(){return function(e){d(!0),h(e)}(t)}})},n)}))}),Object(I.jsx)("div",{className:V.a.popup,children:l&&Object(I.jsx)(X,{handleClosePopup:function(){d(!1),h(null)},children:Object(I.jsx)(L,{items:n,currentIndex:p})})})]})},$=function(){return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsx)(s.a,{exact:!0,path:"/",children:Object(I.jsx)(S,{})}),Object(I.jsx)(s.a,{path:"/album/:id",children:Object(I.jsx)(H,{})}),Object(I.jsx)(s.a,{path:"/photo/:id",children:Object(I.jsx)(M,{})})]})},ee={users:O,albums:g,photos:C},te=Object(p.a)({reducer:ee});r.a.render(Object(I.jsx)(k.a,{basename:"/elfsight-test",children:Object(I.jsx)(u.a,{store:te,children:Object(I.jsx)($,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.2ca37e9b.chunk.js.map