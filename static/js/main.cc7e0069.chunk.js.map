{"version":3,"sources":["components/Pages/Album/Album.module.scss","components/Carousel/Carousel.module.scss","components/Pages/Photo/Photo.module.scss","components/Pages/Home/Home.module.scss","components/UI/Popup/Popup.module.scss","components/UI/Preloader/Preloader.module.scss","components/UI/Button/Button.module.scss","constants/index.js","api/index.js","store/users/slice.js","store/albums/slice.js","store/photos/slice.js","store/index.js","hooks/useActions.js","store/users/selector.js","components/UI/Preloader/index.jsx","components/Pages/Home/index.jsx","components/UI/Button/index.jsx","components/BackButton/index.jsx","store/albums/selector.js","components/Pages/Album/index.jsx","store/photos/selector.js","components/UI/Popup/index.jsx","components/Carousel/index.jsx","components/Pages/Photo/index.jsx","App.js","store/rootReduser.js","store/store.js","index.js"],"names":["module","exports","API_URL","fetchAlbums","id","fetchPhotosById","fetch","getAllUsers","createAsyncThunk","a","response","json","console","log","users","createSlice","name","initialState","data","loading","reducers","extraReducers","builder","addCase","pending","state","fulfilled","payload","getAlbumsById","Promise","all","map","url","item1","filteredArr","filter","item2","albumId","photosCount","length","thumbnailUrl","albums","getPhotosById","photos","useActions","dispatch","useDispatch","bindActionCreators","ActionCreators","getUsers","Preloader","className","styles","container","spinner","Array","from","i","index","Home","useSelector","useEffect","grid","item","to","Button","onClick","children","button","BackButton","history","useHistory","goBack","getAlbums","Album","useParams","header","title","img","src","alt","link","getPhotos","Popup","handleClosePopup","wrap","overlay","body","Carousel","items","currentIndex","useState","activeIndex","setActiveIndex","carousel","slide","_active","btns","Photo","popupIsOpen","setPopupIsOpen","setCurrentIndex","handlePopupOpen","popup","App","exact","path","store","configureStore","reducer","rootReducer","ReactDOM","render","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.cc7e0069.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Album_header__9tNao\",\"grid\":\"Album_grid__36f37\",\"item\":\"Album_item__3Cqmh\",\"img\":\"Album_img__1m4Bo\",\"text-wrap\":\"Album_text-wrap__23Rfm\",\"name\":\"Album_name__3gbbm\",\"link\":\"Album_link__19qCY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Carousel_wrap__1QU2G\",\"btns\":\"Carousel_btns__3qxab\",\"carousel\":\"Carousel_carousel__1TWpp\",\"slide\":\"Carousel_slide__2inBQ\",\"_active\":\"Carousel__active__1hUGN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Photo_header__1I8ZN\",\"grid\":\"Photo_grid__uocWy\",\"item\":\"Photo_item__1NgsX\",\"popup\":\"Photo_popup__1Lfp4\",\"btn-wrap\":\"Photo_btn-wrap__1P3td\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Home_grid__2jcRz\",\"item\":\"Home_item__3Gu9g\",\"name\":\"Home_name__fZDvV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Popup_wrap__3Tlor\",\"overlay\":\"Popup_overlay__1AYS5\",\"body\":\"Popup_body__2WnEX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Preloader_container__1ZJzZ\",\"spinner\":\"Preloader_spinner__1-fCQ\",\"lsd-spinner\":\"Preloader_lsd-spinner__2wWP5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2_KMK\"};","export const API_URL = 'https://jsonplaceholder.typicode.com'\n","import { API_URL } from '../constants'\r\n\r\nexport const fetchUsers = () => fetch(`${API_URL}/users`)\r\n\r\nexport const fetchAlbums = (id) => {\r\n\treturn [`${API_URL}/users/${id}/albums`, `${API_URL}/photos`]\r\n}\r\n\r\nexport const fetchPhotosById = (id) => fetch(`${API_URL}/albums/${id}/photos`)\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { fetchUsers } from '../../api'\r\n\r\nexport const getAllUsers = createAsyncThunk(\r\n\t'getAllUsers',\r\n\tasync () => {\r\n\t\ttry {\r\n\t\t\tconst response = await fetchUsers()\r\n\r\n\t\t\treturn await response.json()\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n)\r\n\r\nconst initialState = {\r\n\tdata: [],\r\n\tloading: false\r\n}\r\n\r\nconst users = createSlice({\r\n\tname: 'users',\r\n\tinitialState,\r\n\treducers: {},\r\n\textraReducers: builder => {\r\n\t\tbuilder.addCase(getAllUsers.pending, (state) => {\r\n\t\t\tstate.loading = true\r\n\t\t})\r\n\t\tbuilder.addCase(getAllUsers.fulfilled, (state, { payload }) => {\r\n\t\t\tstate.data = payload\r\n\t\t\tstate.loading = false\r\n\t\t})\r\n\t}\r\n})\r\n\r\nexport default users.reducer\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { fetchAlbums } from '../../api'\r\n\r\nexport const getAlbumsById = createAsyncThunk(\r\n\t'getAlbumsById',\r\n\tasync (id) => {\r\n\t\ttry {\r\n\t\t\tconst data = await Promise.all(fetchAlbums(id).map(async url => {\r\n\t\t\t\tconst response = await fetch(url)\r\n\t\t\t\treturn await response.json()\r\n\t\t\t}))\r\n\r\n\t\t\treturn data[0].map(item1 => {\r\n\t\t\t\tconst filteredArr = data[1].filter(item2 => item1.id === item2.albumId)\r\n\r\n\t\t\t\titem1.photosCount = filteredArr.length\r\n\t\t\t\titem1.thumbnailUrl = filteredArr[0].thumbnailUrl\r\n\r\n\t\t\t\treturn item1\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n)\r\n\r\nconst initialState = {\r\n\tdata: [],\r\n\tloading: false\r\n}\r\n\r\nconst albums = createSlice({\r\n\tname: 'albums',\r\n\tinitialState,\r\n\treducers: {},\r\n\textraReducers: builder => {\r\n\t\tbuilder.addCase(getAlbumsById.pending, (state) => {\r\n\t\t\tstate.loading = true\r\n\t\t})\r\n\t\tbuilder.addCase(getAlbumsById.fulfilled, (state, { payload }) => {\r\n\t\t\tstate.data = payload\r\n\t\t\tstate.loading = false\r\n\t\t})\r\n\t}\r\n})\r\n\r\nexport default albums.reducer\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { fetchPhotosById } from '../../api'\r\n\r\nexport const getPhotosById = createAsyncThunk(\r\n\t'getPhotosById',\r\n\tasync (id) => {\r\n\t\ttry {\r\n\t\t\tconst response = await fetchPhotosById(id)\r\n\r\n\t\t\treturn await response.json()\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n)\r\n\r\nconst initialState = {\r\n\tdata: [],\r\n\tloading: false\r\n}\r\n\r\nconst photos = createSlice({\r\n\tname: 'photos',\r\n\tinitialState,\r\n\treducers: {},\r\n\textraReducers: builder => {\r\n\t\tbuilder.addCase(getPhotosById.pending, (state) => {\r\n\t\t\tstate.loading = true\r\n\t\t})\r\n\t\tbuilder.addCase(getPhotosById.fulfilled, (state, { payload }) => {\r\n\t\t\tstate.data = payload\r\n\t\t\tstate.loading = false\r\n\t\t})\r\n\t}\r\n})\r\n\r\nexport default photos.reducer\r\n","import { getAllUsers } from './users/slice'\r\nimport { getAlbumsById } from './albums/slice'\r\nimport { getPhotosById } from './photos/slice'\r\n\r\nexport default { getAllUsers, getAlbumsById, getPhotosById }\n","import { useDispatch } from 'react-redux'\r\nimport { bindActionCreators } from '@reduxjs/toolkit'\r\nimport ActionCreators from '../store'\r\n\r\nexport const useActions = () => {\r\n\tconst dispatch = useDispatch()\r\n\treturn bindActionCreators(ActionCreators, dispatch)\r\n}\r\n","export const getUsers = (state) => state.users\n","import React from 'react'\r\nimport styles from './Preloader.module.scss'\r\n\r\nexport const Preloader = () => {\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<div className={styles.spinner}>\r\n\t\t\t\t{Array.from({ length: 12 }).map((i, index) => <div key={`${i}/${index}`}/>)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\n","import React, { useEffect } from 'react'\r\nimport styles from './Home.module.scss'\r\nimport { useActions } from '../../../hooks/useActions'\r\nimport { useSelector } from 'react-redux'\r\nimport { getUsers } from '../../../store/users/selector'\r\nimport { Link } from 'react-router-dom'\r\nimport { Preloader } from '../../UI/Preloader'\r\n\r\nexport const Home = () => {\r\n\tconst { getAllUsers } = useActions()\r\n\tconst { data, loading } = useSelector(getUsers)\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAllUsers()\r\n\t}, [])\r\n\r\n\tif (loading) {\r\n\t\treturn (<Preloader />)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Authors</h1>\r\n\t\t\t<div className={styles.grid}>\r\n\t\t\t\t{data.map(({ name, id }) => (\r\n\t\t\t\t\t<div key={`${id}`} className={styles.item}>\r\n\t\t\t\t\t\t<h3 className={styles.name}>{name}</h3>\r\n\t\t\t\t\t\t<Link className={'btn-primary'} to={`/album/${id}`}>View album</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport styles from './Button.module.scss'\r\n\r\nexport const Button = ({ onClick, children }) => {\r\n\treturn (\r\n\t\t<button className={styles.button} onClick={onClick}>\r\n\t\t\t{children}\r\n\t\t</button>\r\n\t)\r\n}\n","import React from 'react'\r\nimport { Button } from '../UI/Button'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport const BackButton = () => {\r\n\tconst history = useHistory()\r\n\r\n\treturn (\r\n\t\t<Button onClick={() => history.goBack()}>Back</Button>\r\n\t)\r\n}\r\n","export const getAlbums = state => state.albums\r\n","import React, { useEffect } from 'react'\r\nimport styles from './Album.module.scss'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { useActions } from '../../../hooks/useActions'\r\nimport { useSelector } from 'react-redux'\r\nimport { Preloader } from '../../UI/Preloader'\r\nimport { BackButton } from '../../BackButton'\r\nimport { getAlbums } from '../../../store/albums/selector'\r\n\r\nexport const Album = () => {\r\n\tconst { id } = useParams()\r\n\tconst { data, loading } = useSelector(getAlbums)\r\n\tconst { getAlbumsById } = useActions()\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAlbumsById(id)\r\n\t}, [id])\r\n\r\n\tif (loading) {\r\n\t\treturn (<Preloader />)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.header}>\r\n\t\t\t\t<h1>Albums</h1>\r\n\t\t\t\t<BackButton />\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.grid}>\r\n\t\t\t\t{data.map(({ id, title, thumbnailUrl, photosCount }) => (\r\n\t\t\t\t\t<div className={styles.item} key={`${id}`}>\r\n\t\t\t\t\t\t<div className={styles.img}>\r\n\t\t\t\t\t\t\t<img className={styles.img} src={thumbnailUrl} alt={title}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={styles['text-wrap']}>\r\n\t\t\t\t\t\t\t<h2 className={styles.name}>{title}</h2>\r\n\t\t\t\t\t\t\t<p className={styles['photo-count']}>Кол-во фото: {photosCount}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Link className={`btn-primary ${styles.link}`} to={`/photo/${id}`}>View</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n","export const getPhotos = (state) => state.photos\n","import React from 'react'\r\nimport styles from './Popup.module.scss'\r\n\r\nexport const Popup = ({ children, handleClosePopup }) => {\r\n\treturn (\r\n\t\t<div className={styles.wrap}>\r\n\t\t\t<div onClick={handleClosePopup} className={styles.overlay}/>\r\n\t\t\t<div className={styles.body}>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\n","import React, { useState } from 'react'\r\nimport styles from './Carousel.module.scss'\r\nimport { Button } from '../UI/Button'\r\n\r\nexport const Carousel = ({ items, currentIndex }) => {\r\n\tconst [activeIndex, setActiveIndex] = useState(currentIndex)\r\n\r\n\tconst onPrev = () => {\r\n\t\tlet index = activeIndex\r\n\r\n\t\tif (index < 1) {\r\n\t\t\tindex = items.length\r\n\t\t}\r\n\r\n\t\t--index\r\n\r\n\t\tsetActiveIndex(index)\r\n\t}\r\n\r\n\tconst onNext = () => {\r\n\t\tlet index = activeIndex\r\n\r\n\t\tif (index === items.length - 1) {\r\n\t\t\tindex = -1\r\n\t\t}\r\n\r\n\t\t++index\r\n\r\n\t\tsetActiveIndex(index)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrap}>\r\n\t\t\t<ul className={styles.carousel}>\r\n\t\t\t\t{items.map(({ id, url, title }, index) => (\r\n\t\t\t\t\t<li key={id} className={`${styles.slide} ${index === activeIndex ? `${styles._active}` : ''}`}>\r\n\t\t\t\t\t\t<img id={id} src={url} alt={title}/>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\r\n\t\t\t<div className={styles.btns}>\r\n\t\t\t\t<Button onClick={onPrev}>Prev</Button>\r\n\t\t\t\t<Button onClick={onNext}>Next</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport styles from './Photo.module.scss'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport { useActions } from '../../../hooks/useActions'\r\nimport { getPhotos } from '../../../store/photos/selector'\r\nimport { Popup } from '../../UI/Popup'\r\nimport { Carousel } from '../../Carousel'\r\nimport { Preloader } from '../../UI/Preloader'\r\nimport { BackButton } from '../../BackButton'\r\n\r\nexport const Photo = () => {\r\n\tconst { id } = useParams()\r\n\tconst { data, loading } = useSelector(getPhotos)\r\n\tconst { getPhotosById } = useActions()\r\n\tconst [popupIsOpen, setPopupIsOpen] = useState(false)\r\n\tconst [currentIndex, setCurrentIndex] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tgetPhotosById(id)\r\n\t}, [id])\r\n\r\n\tconst handlePopupOpen = (index) => {\r\n\t\tsetPopupIsOpen(true)\r\n\t\tsetCurrentIndex(index)\r\n\t}\r\n\r\n\tconst handleClosePopup = () => {\r\n\t\tsetPopupIsOpen(false)\r\n\t\tsetCurrentIndex(null)\r\n\t}\r\n\r\n\tif (loading) {\r\n\t\treturn (<Preloader/>)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.header}>\r\n\t\t\t\t<h1>Photos</h1>\r\n\t\t\t\t<BackButton/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.grid}>\r\n\t\t\t\t{data.map(({ id, url, title }, index) => (\r\n\t\t\t\t\t<div key={id} className={styles.item}>\r\n\t\t\t\t\t\t<img src={url} alt={title} onClick={() => handlePopupOpen(index)}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={styles.popup}>\r\n\t\t\t\t{\r\n\t\t\t\t\tpopupIsOpen &&\r\n\t\t\t\t\t<Popup handleClosePopup={handleClosePopup}>\r\n\t\t\t\t\t\t<Carousel items={data} currentIndex={currentIndex}/>\r\n\t\t\t\t\t</Popup>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n","import React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Home } from './components/Pages/Home'\nimport { Album } from './components/Pages/Album'\nimport { Photo } from './components/Pages/Photo'\n\nexport const App = () => {\n\treturn (\n\t\t<div className={'container'}>\n\t\t\t<Route exact path=\"/\">\n\t\t\t\t<Home />\n\t\t\t</Route>\n\t\t\t<Route path=\"/album/:id\">\n\t\t\t\t<Album />\n\t\t\t</Route>\n\t\t\t<Route path=\"/photo/:id\">\n\t\t\t\t<Photo />\n\t\t\t</Route>\n\t\t</div>\n\t)\n}\n","import users from './users/slice'\r\nimport albums from './albums/slice'\r\nimport photos from './photos/slice'\r\n\r\nexport default { users, albums, photos }\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport rootReducer from './rootReduser'\r\n\r\nexport const store = configureStore({\r\n\treducer: rootReducer\r\n})\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'normalize.css'\nimport './index.css'\nimport { App } from './App'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { store } from './store/store'\n\nReactDOM.render(\n\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t<Provider store={store}>\n\t\t\t<App/>\n\t\t</Provider>\n\t</BrowserRouter>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}