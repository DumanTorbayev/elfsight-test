(this.webpackJsonpelfsight=this.webpackJsonpelfsight||[]).push([[0],{12:function(e,t,n){e.exports={header:"Album_header__34Xu1",grid:"Album_grid__21eKn",item:"Album_item__3Qp_9",img:"Album_img__197Id","text-wrap":"Album_text-wrap__3G7B_",name:"Album_name__34T4v",link:"Album_link__3xxWx"}},16:function(e,t,n){e.exports={wrap:"Carousel_wrap__1QU2G",btns:"Carousel_btns__3qxab",carousel:"Carousel_carousel__1TWpp",slide:"Carousel_slide__2inBQ",_active:"Carousel__active__1hUGN"}},19:function(e,t,n){e.exports={header:"Photo_header__2qHo6",grid:"Photo_grid__2gBwc",item:"Photo_item__1LZAT",popup:"Photo_popup__36K8m","btn-wrap":"Photo_btn-wrap__2YHox"}},24:function(e,t,n){e.exports={grid:"Home_grid__1YNYs",item:"Home_item__1FYgn",name:"Home_name__1DxmH"}},25:function(e,t,n){e.exports={wrap:"Popup_wrap__3Tlor",overlay:"Popup_overlay__1AYS5",body:"Popup_body__2WnEX"}},30:function(e,t,n){e.exports={container:"Preloader_container__1ZJzZ",spinner:"Preloader_spinner__1-fCQ","lsd-spinner":"Preloader_lsd-spinner__2wWP5"}},31:function(e,t,n){e.exports={button:"Button_button__2_KMK"}},37:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(20),r=n.n(a),s=(n(36),n(37),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))}),o=n(3),i=n(24),u=n.n(i),l=n(10),d=n(7),j=n(11),b=n.n(j),p=n(14),h=n(8),m=function(e){return fetch("https://jsonplaceholder.typicode.com/users/".concat(e,"/albums"))},f=function(e){return fetch("https://jsonplaceholder.typicode.com/albums/".concat(e,"/photos"))},x=Object(h.b)("getUsers",Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/users");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),O=Object(h.c)({name:"users",initialState:{users:[]},reducers:{},extraReducers:function(e){e.addCase(x.fulfilled,(function(e,t){var n=t.payload;e.users=n}))}}).reducer,_=n(22),v=Object(h.b)("getAlbums",function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),g=Object(h.b)("getPhotos",Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/photos");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),N=Object(h.c)({name:"albums",initialState:{albums:[],photos:[],currentPhotos:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(v.pending,(function(e,t){t.payload;e.loading=!0})),e.addCase(v.fulfilled,(function(e,t){var n=t.payload;e.albums=n,e.loading=!1})),e.addCase(g.fulfilled,(function(e,t){var n=t.payload;e.photos=n}))}});Object(_.a)(N.actions);var w=N.reducer,y=Object(h.b)("getPhotosById",function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),P=Object(h.c)({name:"photos",initialState:{photos:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(y.pending,(function(e,t){t.payload;e.loading=!0})),e.addCase(y.fulfilled,(function(e,t){var n=t.payload;e.photos=n,e.loading=!1}))}});Object(_.a)(P.actions);var C=P.reducer,k={getUsers:x,getAlbums:v,getPhotos:g,getPhotosById:y},A=function(){var e=Object(l.b)();return Object(d.b)(k,e)},B=function(e){return e.users},I=n(13),F=n(1),S=function(){var e=A().getUsers,t=Object(l.c)(B).users;return Object(c.useEffect)((function(){e()}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h1",{children:"Authors"}),Object(F.jsx)("div",{className:u.a.grid,children:t.map((function(e){var t=e.name,n=e.id;return Object(F.jsxs)("div",{className:u.a.item,children:[Object(F.jsx)("h3",{className:u.a.name,children:t}),Object(F.jsx)(I.b,{className:"btn-primary",to:"/album/".concat(n),children:"View album"})]},"".concat(n))}))})]})},E=n(12),H=n.n(E),T=n(18),U=function(e){return e.albums.albums.map((function(t){return Object(T.a)(Object(T.a)({},t),{},{photos:e.albums.photos.filter((function(e){return t.id===e.albumId}))})}))},Y=function(e){return e.albums.loading},K=n(31),Q=n.n(K),W=function(e){var t=e.onClick,n=e.children;return Object(F.jsx)("button",{className:Q.a.button,onClick:t,children:n})},G=n(30),J=n.n(G),L=function(){return Object(F.jsx)("div",{className:J.a.container,children:Object(F.jsx)("div",{className:J.a.spinner,children:Array.from({length:12}).map((function(e,t){return Object(F.jsx)("div",{},"".concat(e,"/").concat(t))}))})})},R=function(){var e=Object(o.f)().id,t=Object(l.c)(U),n=Object(l.c)(Y),a=A(),r=a.getAlbums,s=a.getPhotos,i=Object(o.e)();Object(c.useEffect)((function(){s()}),[]),Object(c.useEffect)((function(){r(e)}),[e]);return n?Object(F.jsx)(L,{}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:H.a.header,children:[Object(F.jsx)("h1",{children:"Albums"}),Object(F.jsx)(W,{onClick:function(){i.goBack()},children:"Back"})]}),Object(F.jsx)("div",{className:H.a.grid,children:t.map((function(e){var t,n=e.id,c=e.photos,a=e.title;return Object(F.jsxs)("div",{className:H.a.item,children:[Object(F.jsx)("div",{className:H.a.img,children:Object(F.jsx)("img",{className:H.a.img,src:null===(t=c[0])||void 0===t?void 0:t.thumbnailUrl,alt:a})}),Object(F.jsxs)("div",{className:H.a["text-wrap"],children:[Object(F.jsx)("h2",{className:H.a.name,children:a}),Object(F.jsxs)("p",{className:H.a["photo-count"],children:["\u041a\u043e\u043b-\u0432\u043e \u0444\u043e\u0442\u043e: ",c.length]})]}),Object(F.jsx)(I.b,{className:"btn-primary ".concat(H.a.link),to:"/photo/".concat(n),children:"View"})]},"".concat(n))}))})]})},Z=n(23),q=n(19),D=n.n(q),V=function(e){return e.photos},X=n(25),z=n.n(X),M=function(e){var t=e.children,n=e.setPopupInfo;return Object(F.jsxs)("div",{className:z.a.wrap,children:[Object(F.jsx)("div",{onClick:function(){return n({index:null,open:!1})},className:z.a.overlay}),Object(F.jsx)("div",{className:z.a.body,children:t})]})},$=n(16),ee=n.n($),te=function(e){var t=e.photos,n=e.currentIndex,a=Object(c.useState)(n),r=Object(Z.a)(a,2),s=r[0],o=r[1];return Object(F.jsxs)("div",{className:ee.a.wrap,children:[Object(F.jsx)("ul",{className:ee.a.carousel,children:t.map((function(e,t){var n=e.id,c=e.url,a=e.title;return Object(F.jsx)("li",{className:"".concat(ee.a.slide," ").concat(t===s?"".concat(ee.a._active):""),children:Object(F.jsx)("img",{id:n,src:c,alt:a})},n)}))}),Object(F.jsxs)("div",{className:ee.a.btns,children:[Object(F.jsx)(W,{onClick:function(){var e=s,n=t.length;e<1&&(e=n),--e,o(e)},children:"Prev"}),Object(F.jsx)(W,{onClick:function(){var e=s;e===t.length-1&&(e=-1),++e,o(e)},children:"Next"})]})]})},ne=function(){var e=Object(o.f)().id,t=Object(l.c)(V),n=t.photos,a=t.loading,r=A().getPhotosById,s=Object(o.e)(),i=Object(c.useState)({}),u=Object(Z.a)(i,2),d=u[0],j=u[1];Object(c.useEffect)((function(){r(e)}),[e]);return a?Object(F.jsx)(L,{}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:D.a.header,children:[Object(F.jsx)("h1",{children:"Photos"}),Object(F.jsx)(W,{onClick:function(){s.goBack()},children:"Back"})]}),Object(F.jsx)("div",{className:D.a.grid,children:n.map((function(e,t){var n=e.id,c=e.url,a=e.title;return Object(F.jsx)("div",{className:D.a.item,children:Object(F.jsx)("img",{src:c,alt:a,onClick:function(){return function(e){j({index:e,open:!0})}(t)}})},n)}))}),Object(F.jsx)("div",{className:D.a.popup,children:d.open&&Object(F.jsx)(M,{setPopupInfo:j,children:Object(F.jsx)(te,{photos:n,currentIndex:d.index})})})]})},ce=function(){return Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)(o.a,{exact:!0,path:"/",children:Object(F.jsx)(S,{})}),Object(F.jsx)(o.a,{path:"/album/:id",children:Object(F.jsx)(R,{})}),Object(F.jsx)(o.a,{path:"/photo/:id",children:Object(F.jsx)(ne,{})})]})},ae={users:O,albums:w,photos:C},re=Object(h.a)({reducer:Object(T.a)({},ae)});r.a.render(Object(F.jsx)(I.a,{basename:"/elfsight-test",children:Object(F.jsx)(l.a,{store:re,children:Object(F.jsx)(ce,{})})}),document.getElementById("root")),s()}},[[45,1,2]]]);
//# sourceMappingURL=main.f2ef0ed4.chunk.js.map