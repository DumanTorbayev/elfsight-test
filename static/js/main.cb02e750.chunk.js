(this.webpackJsonpelfsight=this.webpackJsonpelfsight||[]).push([[0],{14:function(e,t,n){e.exports={header:"Album_header__34Xu1",grid:"Album_grid__21eKn",item:"Album_item__3Qp_9",img:"Album_img__197Id",name:"Album_name__34T4v",link:"Album_link__3xxWx"}},16:function(e,t,n){e.exports={wrap:"Carousel_wrap__1QU2G",btns:"Carousel_btns__3qxab",carousel:"Carousel_carousel__1TWpp",slide:"Carousel_slide__2inBQ",_active:"Carousel__active__1hUGN"}},19:function(e,t,n){e.exports={grid:"Home_grid__1YNYs",item:"Home_item__1FYgn",name:"Home_name__1DxmH",link:"Home_link__TL70U"}},20:function(e,t,n){e.exports={header:"Photo_header__2qHo6",grid:"Photo_grid__2gBwc",item:"Photo_item__1LZAT",popup:"Photo_popup__36K8m","btn-wrap":"Photo_btn-wrap__2YHox"}},25:function(e,t,n){e.exports={wrap:"Popup_wrap__3Tlor",overlay:"Popup_overlay__1AYS5",body:"Popup_body__2WnEX"}},30:function(e,t,n){e.exports={button:"Button_button__2_KMK"}},36:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(21),r=n.n(a),s=(n(35),n(36),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))}),o=n(3),i=n(19),u=n.n(i),l=n(10),d=n(7),j=n(11),b=n.n(j),h=n(13),p=n(8),m=function(e){return fetch("https://jsonplaceholder.typicode.com/users/".concat(e,"/albums"))},f=function(e){return fetch("https://jsonplaceholder.typicode.com/albums/".concat(e,"/photos"))},O=Object(p.b)("getUsers",Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/users");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),x=Object(p.c)({name:"users",initialState:{users:[]},reducers:{},extraReducers:function(e){e.addCase(O.fulfilled,(function(e,t){var n=t.payload;e.users=n}))}}).reducer,_=n(23),v=Object(p.b)("getAlbums",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),g=Object(p.b)("getPhotos",Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/photos");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),N=Object(p.c)({name:"albums",initialState:{albums:[],photos:[],currentPhotos:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(v.pending,(function(e,t){t.payload;e.loading=!0})),e.addCase(v.fulfilled,(function(e,t){var n=t.payload;e.albums=n,e.loading=!1})),e.addCase(g.fulfilled,(function(e,t){var n=t.payload;e.photos=n}))}});Object(_.a)(N.actions);var k=N.reducer,y=Object(p.b)("getPhotosById",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),C=Object(p.c)({name:"photos",initialState:{photos:[],loading:!1},reducers:{},extraReducers:function(e){e.addCase(y.pending,(function(e,t){t.payload;e.loading=!0})),e.addCase(y.fulfilled,(function(e,t){var n=t.payload;e.photos=n,e.loading=!1}))}});Object(_.a)(C.actions);var P=C.reducer,w={getUsers:O,getAlbums:v,getPhotos:g,getPhotosById:y},A=function(){var e=Object(l.b)();return Object(d.b)(w,e)},B=function(e){return e.users},I=n(12),F=n(1),U=function(){var e=A().getUsers,t=Object(l.c)(B).users;return Object(c.useEffect)((function(){e()}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h1",{children:"Users"}),Object(F.jsx)("div",{className:u.a.grid,children:t.map((function(e){var t=e.name,n=e.id;return Object(F.jsxs)("div",{className:u.a.item,children:[Object(F.jsx)("h3",{className:u.a.name,children:t}),Object(F.jsx)(I.b,{className:u.a.link,to:"/album/".concat(n),children:"View album"})]},"".concat(n))}))})]})},H=n(14),S=n.n(H),T=n(18),E=function(e){return e.albums.albums.map((function(t){return Object(T.a)(Object(T.a)({},t),{},{photos:e.albums.photos.filter((function(e){return t.id===e.albumId}))})}))},Y=function(e){return e.albums.loading},K=n(30),L=n.n(K),Q=function(e){var t=e.onClick,n=e.children;return Object(F.jsx)("button",{className:L.a.button,onClick:t,children:n})},R=function(){var e=Object(o.f)().id,t=Object(l.c)(E),n=Object(l.c)(Y),a=A(),r=a.getAlbums,s=a.getPhotos,i=Object(o.e)();Object(c.useEffect)((function(){s()}),[]),Object(c.useEffect)((function(){r(e)}),[e]);return n?Object(F.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:S.a.header,children:[Object(F.jsx)("h1",{children:"Albums"}),Object(F.jsx)(Q,{onClick:function(){i.goBack()},children:"Back"})]}),Object(F.jsx)("div",{className:S.a.grid,children:t.map((function(e){var t,n=e.id,c=e.photos,a=e.title;return Object(F.jsxs)(I.b,{to:"/photo/".concat(n),className:S.a.item,children:[Object(F.jsx)("img",{className:S.a.img,src:null===(t=c[0])||void 0===t?void 0:t.thumbnailUrl,alt:"image"}),Object(F.jsx)("h2",{className:S.a.name,children:a}),Object(F.jsxs)("p",{className:S.a["photo-count"],children:["\u041a\u043e\u043b-\u0432\u043e \u0444\u043e\u0442\u043e: ",c.length]})]},"".concat(n))}))})]})},W=n(24),q=n(20),D=n.n(q),G=function(e){return e.photos},J=n(25),X=n.n(J),M=function(e){var t=e.children,n=e.setPopupInfo;return Object(F.jsxs)("div",{className:X.a.wrap,children:[Object(F.jsx)("div",{onClick:function(){return n({index:null,open:!1})},className:X.a.overlay}),Object(F.jsx)("div",{className:X.a.body,children:t})]})},V=n(16),Z=n.n(V),z=function(e){var t=e.photos,n=e.currentIndex,a=Object(c.useState)(n),r=Object(W.a)(a,2),s=r[0],o=r[1];return Object(F.jsxs)("div",{className:Z.a.wrap,children:[Object(F.jsx)("ul",{className:Z.a.carousel,children:t.map((function(e,t){var n=e.id,c=e.url,a=e.title;return Object(F.jsx)("li",{className:"".concat(Z.a.slide," ").concat(t===s?"".concat(Z.a._active):""),children:Object(F.jsx)("img",{id:n,src:c,alt:a})},n)}))}),Object(F.jsxs)("div",{className:Z.a.btns,children:[Object(F.jsx)(Q,{onClick:function(){var e=s,n=t.length;e<1&&(e=n),--e,o(e)},children:"Prev"}),Object(F.jsx)(Q,{onClick:function(){var e=s;e===t.length-1&&(e=-1),++e,o(e)},children:"Next"})]})]})},$=function(){var e=Object(o.f)().id,t=Object(l.c)(G),n=t.photos,a=t.loading,r=A().getPhotosById,s=Object(o.e)(),i=Object(c.useState)({}),u=Object(W.a)(i,2),d=u[0],j=u[1];Object(c.useEffect)((function(){r(e)}),[e]);return a?Object(F.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:D.a.header,children:[Object(F.jsx)("h1",{children:"Photos"}),Object(F.jsx)(Q,{onClick:function(){s.goBack()},children:"Back"})]}),Object(F.jsx)("div",{className:D.a.grid,children:n.map((function(e,t){var n=e.id,c=e.url,a=e.title;return Object(F.jsx)("div",{className:D.a.item,children:Object(F.jsx)("img",{src:c,alt:a,onClick:function(){return function(e){j({index:e,open:!0})}(t)}})},n)}))}),Object(F.jsx)("div",{className:D.a.popup,children:d.open&&Object(F.jsx)(M,{setPopupInfo:j,children:Object(F.jsx)(z,{photos:n,currentIndex:d.index})})})]})},ee=function(){return Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)(o.a,{exact:!0,path:"/",children:Object(F.jsx)(U,{})}),Object(F.jsx)(o.a,{path:"/album/:id",children:Object(F.jsx)(R,{})}),Object(F.jsx)(o.a,{path:"/photo/:id",children:Object(F.jsx)($,{})})]})},te={users:x,albums:k,photos:P},ne=Object(p.a)({reducer:Object(T.a)({},te)});r.a.render(Object(F.jsx)(I.a,{basename:"/elfsight-test",children:Object(F.jsx)(l.a,{store:ne,children:Object(F.jsx)(ee,{})})}),document.getElementById("root")),s()}},[[44,1,2]]]);
//# sourceMappingURL=main.cb02e750.chunk.js.map