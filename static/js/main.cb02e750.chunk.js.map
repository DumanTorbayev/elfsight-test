{"version":3,"sources":["components/Album/Album.module.scss","components/Carousel/Carousel.module.scss","components/Home/Home.module.scss","components/Photo/Photo.module.scss","components/UI/Popup/Popup.module.scss","components/UI/Button/Button.module.scss","reportWebVitals.js","api/index.js","store/users/slice.js","store/albums/slice.js","store/photos/slice.js","store/index.js","hooks/useActions.js","store/users/selector.js","components/Home/index.jsx","store/albums/selector.js","components/UI/Button/index.jsx","components/Album/index.jsx","store/photos/selector.js","components/UI/Popup/index.jsx","components/Carousel/index.jsx","components/Photo/index.jsx","App.js","store/rootReduser.js","store/store.js","index.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","fetchAlbums","id","fetch","fetchPhotosById","getUsers","createAsyncThunk","a","response","json","console","log","users","createSlice","name","initialState","reducers","extraReducers","builder","addCase","fulfilled","state","payload","getAlbums","getPhotos","albums","photos","currentPhotos","loading","pending","actions","getPhotosById","useActions","dispatch","useDispatch","bindActionCreators","ActionCreators","takeUsers","Home","useSelector","useEffect","className","scss","grid","map","item","link","to","getMergedAlbums","album","filter","photo","albumId","getLoading","Button","onClick","children","button","Album","useParams","history","useHistory","header","goBack","title","img","src","thumbnailUrl","alt","length","takePhotos","Popup","setPopupInfo","wrap","index","open","overlay","body","Carousel","currentIndex","useState","activeIndex","setActiveIndex","carousel","url","slide","btns","slidesLength","Photo","popupInfo","handlePopupInfo","popup","App","exact","path","store","configureStore","reducer","ReactDOM","render","basename","process","document","getElementById"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,OAAS,sBAAsB,KAAO,oBAAoB,KAAO,oBAAoB,IAAM,mBAAmB,KAAO,oBAAoB,KAAO,sB,mBCAlKD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,KAAO,uBAAuB,SAAW,2BAA2B,MAAQ,wBAAwB,QAAU,4B,mBCA9JD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,mBAAmB,KAAO,mBAAmB,KAAO,qB,mBCAvGD,EAAOC,QAAU,CAAC,OAAS,sBAAsB,KAAO,oBAAoB,KAAO,oBAAoB,MAAQ,qBAAqB,WAAW,0B,mBCA/ID,EAAOC,QAAU,CAAC,KAAO,oBAAoB,QAAU,uBAAuB,KAAO,sB,mBCArFD,EAAOC,QAAU,CAAC,OAAS,yB,wFCWZC,G,YAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,uECHDQ,EAAc,SAACC,GACxB,OAAOC,MAAM,8CAAD,OAA+CD,EAA/C,aAOHE,EAAkB,SAACF,GAC5B,OAAOC,MAAM,+CAAD,OAAgDD,EAAhD,aCVHG,EAAWC,YACpB,WADoC,sBAEpC,4BAAAC,EAAA,+EDJOJ,MAAM,8CCIb,cAEcK,EAFd,gBAIqBA,EAASC,OAJ9B,wEAMQC,QAAQC,IAAR,MANR,0DA0BWC,EAXDC,YAAY,CACtBC,KAAM,QACNC,aANiB,CACjBH,MAAO,IAMPI,SAAU,GACVC,cAAe,SAAAC,GACXA,EAAQC,QAAQd,EAASe,WAAW,SAACC,EAAD,GAAuB,IAAdC,EAAa,EAAbA,QACzCD,EAAMT,MAAQU,QAK1B,Q,QC5BaC,EAAYjB,YACrB,YADqC,uCAErC,WAAOJ,GAAP,eAAAK,EAAA,+EAE+BN,EAAYC,GAF3C,cAEcM,EAFd,gBAIqBA,EAASC,OAJ9B,wEAMQC,QAAQC,IAAR,MANR,yDAFqC,uDAa5Ba,EAAYlB,YACrB,YADqC,sBAErC,4BAAAC,EAAA,+EFTOJ,MAAM,+CESb,cAEcK,EAFd,gBAIqBA,EAASC,OAJ9B,wEAMQC,QAAQC,IAAR,MANR,0DAkBEc,EAASZ,YAAY,CACvBC,KAAM,SACNC,aATiB,CACjBU,OAAQ,GACRC,OAAQ,GACRC,cAAe,GACfC,SAAS,GAMTZ,SAAU,GACVC,cAAe,SAAAC,GACXA,EAAQC,QAAQI,EAAUM,SAAS,SAACR,EAAD,GAAsB,EAAbC,QACxCD,EAAMO,SAAU,KAEpBV,EAAQC,QAAQI,EAAUH,WAAW,SAACC,EAAD,GAAuB,IAAdC,EAAa,EAAbA,QAC1CD,EAAMI,OAASH,EACfD,EAAMO,SAAU,KAEpBV,EAAQC,QAAQK,EAAUJ,WAAW,SAACC,EAAD,GAAuB,IAAdC,EAAa,EAAbA,QAC1CD,EAAMK,OAASJ,Q,YAKTG,EAAOK,SACVL,QAAf,QCpDaM,EAAgBzB,YACzB,gBADyC,uCAEzC,WAAOJ,GAAP,eAAAK,EAAA,+EAE+BH,EAAgBF,GAF/C,cAEcM,EAFd,gBAIqBA,EAASC,OAJ9B,wEAMQC,QAAQC,IAAR,MANR,yDAFyC,uDAkBvCe,EAASb,YAAY,CACvBC,KAAM,SACNC,aAPiB,CACjBW,OAAQ,GACRE,SAAS,GAMTZ,SAAU,GACVC,cAAe,SAAAC,GACXA,EAAQC,QAAQY,EAAcF,SAAS,SAACR,EAAD,GAAsB,EAAbC,QAC5CD,EAAMO,SAAU,KAEpBV,EAAQC,QAAQY,EAAcX,WAAW,SAACC,EAAD,GAAuB,IAAdC,EAAa,EAAbA,QAC9CD,EAAMK,OAASJ,EACfD,EAAMO,SAAU,Q,YAKVF,EAAOI,SACVJ,QAAf,QCjCe,GAACrB,WAAUkB,YAAWC,YAAWO,iBCAnCC,EAAa,WACtB,IAAMC,EAAWC,cACjB,OAAOC,YAAmBC,EAAgBH,ICNjCI,EAAY,SAAChB,GAAD,OAAWA,EAAMT,O,eCO7B0B,EAAO,WAAO,IAChBjC,EAAY2B,IAAZ3B,SACAO,EAAS2B,YAAYF,GAArBzB,MAMP,OAJA4B,qBAAU,WACNnC,MACD,IAGC,qCACI,uCACA,qBAAKoC,UAAWC,IAAKC,KAArB,SACK/B,EAAMgC,KAAI,gBAAE9B,EAAF,EAAEA,KAAMZ,EAAR,EAAQA,GAAR,OACP,sBAAmBuC,UAAWC,IAAKG,KAAnC,UACI,oBAAIJ,UAAWC,IAAK5B,KAApB,SAA2BA,IAC3B,cAAC,IAAD,CAAM2B,UAAWC,IAAKI,KAAMC,GAAE,iBAAY7C,GAA1C,0BAFJ,UAAaA,a,yBCpBpB8C,EAAkB,SAAC3B,GAC5B,OAAOA,EAAMI,OAAOA,OAAOmB,KAAI,SAAAK,GAAK,kCAC7BA,GAD6B,IACtBvB,OAAQL,EAAMI,OAAOC,OAAOwB,QAAO,SAAAC,GAAK,OAAIF,EAAM/C,KAAOiD,EAAMC,iBAIpEC,EAAa,SAAAhC,GAAK,OAAIA,EAAMI,OAAOG,S,iBCHnC0B,EAAS,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,SAC7B,OACI,wBAAQf,UAAWC,IAAKe,OAAQF,QAASA,EAAzC,SACKC,KCGAE,EAAQ,WAAO,IACjBxD,EAAMyD,cAANzD,GACDuB,EAASc,YAAYS,GACrBpB,EAAUW,YAAYc,GAHL,EAIQrB,IAAxBT,EAJgB,EAIhBA,UAAWC,EAJK,EAILA,UACZoC,EAAUC,cAEhBrB,qBAAU,WAGNhB,MACD,IAEHgB,qBAAU,WACNjB,EAAUrB,KACX,CAACA,IAMJ,OAAG0B,EACS,qFAIR,qCACI,sBAAKa,UAAWC,IAAKoB,OAArB,UACI,wCACA,cAAC,EAAD,CAAQP,QAZL,WACXK,EAAQG,UAWA,qBAEJ,qBAAKtB,UAAWC,IAAKC,KAArB,SACKlB,EAAOmB,KAAI,kBAAE1C,EAAF,EAAEA,GAAIwB,EAAN,EAAMA,OAAQsC,EAAd,EAAcA,MAAd,OACR,eAAC,IAAD,CAAMjB,GAAE,iBAAY7C,GAAMuC,UAAWC,IAAKG,KAA1C,UACI,qBAAKJ,UAAWC,IAAKuB,IAAKC,IAAG,UAAExC,EAAO,UAAT,aAAE,EAAWyC,aAAcC,IAAI,UAC5D,oBAAI3B,UAAWC,IAAK5B,KAApB,SAA2BkD,IAC3B,oBAAGvB,UAAWC,IAAK,eAAnB,uEAAiDhB,EAAO2C,YAH5D,UAAwDnE,a,yBC1C/DoE,EAAa,SAACjD,GAAD,OAAWA,EAAMK,Q,iBCG9B6C,EAAQ,SAAC,GAA8B,IAA7Bf,EAA4B,EAA5BA,SAAUgB,EAAkB,EAAlBA,aAC7B,OACI,sBAAK/B,UAAWC,IAAK+B,KAArB,UACI,qBAAKlB,QAAS,kBAAMiB,EAAa,CAACE,MAAO,KAAMC,MAAM,KAASlC,UAAWC,IAAKkC,UAC9E,qBAAKnC,UAAWC,IAAKmC,KAArB,SACKrB,Q,iBCJJsB,EAAW,SAAC,GAA4B,IAA3BpD,EAA0B,EAA1BA,OAAQqD,EAAkB,EAAlBA,aAAkB,EACVC,mBAASD,GADC,mBACzCE,EADyC,KAC5BC,EAD4B,KA6BhD,OACI,sBAAKzC,UAAWC,IAAK+B,KAArB,UACI,oBAAIhC,UAAWC,IAAKyC,SAApB,SACKzD,EAAOkB,KAAI,WAAmB8B,GAAnB,IAAExE,EAAF,EAAEA,GAAIkF,EAAN,EAAMA,IAAKpB,EAAX,EAAWA,MAAX,OACR,oBAAavB,UAAS,UAAKC,IAAK2C,MAAV,YAAmBX,IAAUO,EAAV,UAA2BvC,IAAI,SAAgB,IAAxF,SACI,qBAAKxC,GAAIA,EAAIgE,IAAKkB,EAAKhB,IAAKJ,KADvB9D,QAMjB,sBAAKuC,UAAWC,IAAK4C,KAArB,UACI,cAAC,EAAD,CAAQ/B,QArCL,WACX,IAAImB,EAAQO,EACNM,EAAe7D,EAAO2C,OAExBK,EAAQ,IACRA,EAAQa,KAGVb,EAEFQ,EAAeR,IA2BP,kBACA,cAAC,EAAD,CAAQnB,QAzBL,WACX,IAAImB,EAAQO,EAGRP,IAFehD,EAAO2C,OAAS,IAG/BK,GAAS,KAGXA,EAEFQ,EAAeR,IAeP,yBCnCHc,EAAQ,WAAO,IACbtF,EAAMyD,cAANzD,GADY,EAEOqC,YAAY+B,GAA/B5C,EAFY,EAEZA,OAAQE,EAFI,EAEJA,QACRG,EAAiBC,IAAjBD,cACD6B,EAAUC,cAJG,EAKemB,mBAAS,IALxB,mBAKZS,EALY,KAKDjB,EALC,KAOnBhC,qBAAU,WACNT,EAAc7B,KACf,CAACA,IAUJ,OAAI0B,EACQ,qFAIR,qCACI,sBAAKa,UAAWC,IAAKoB,OAArB,UACI,wCACA,cAAC,EAAD,CAAQP,QAhBL,WACXK,EAAQG,UAeA,qBAEJ,qBAAKtB,UAAWC,IAAKC,KAArB,SACKjB,EAAOkB,KAAI,WAAmB8B,GAAnB,IAAExE,EAAF,EAAEA,GAAIkF,EAAN,EAAMA,IAAKpB,EAAX,EAAWA,MAAX,OACR,qBAAcvB,UAAWC,IAAKG,KAA9B,SACI,qBAAKqB,IAAKkB,EAAKhB,IAAKJ,EAAOT,QAAS,kBAjBhC,SAACmB,GACrBF,EAAa,CAACE,QAAOC,MAAM,IAgB+Be,CAAgBhB,OADpDxE,QAMlB,qBAAKuC,UAAWC,IAAKiD,MAArB,SAEQF,EAAUd,MACV,cAAC,EAAD,CAAOH,aAAcA,EAArB,SACI,cAAC,EAAD,CAAU9C,OAAQA,EAAQqD,aAAcU,EAAUf,gBC7CjEkB,GAAM,WACf,OACI,sBAAKnD,UAAW,YAAhB,UACI,cAAC,IAAD,CAAOoD,OAAK,EAACC,KAAK,IAAlB,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,aAAZ,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,aAAZ,SACI,cAAC,EAAD,UCZD,IAAClF,QAAOa,SAAQC,UCDlBqE,GAAQC,YAAe,CAChCC,QAAQ,eAAKjF,MCMjBkF,IAASC,OACL,cAAC,IAAD,CAAeC,SAAUC,iBAAzB,SACI,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACI,cAAC,GAAD,QAGRO,SAASC,eAAe,SAM5B/G,M","file":"static/js/main.cb02e750.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Album_header__34Xu1\",\"grid\":\"Album_grid__21eKn\",\"item\":\"Album_item__3Qp_9\",\"img\":\"Album_img__197Id\",\"name\":\"Album_name__34T4v\",\"link\":\"Album_link__3xxWx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Carousel_wrap__1QU2G\",\"btns\":\"Carousel_btns__3qxab\",\"carousel\":\"Carousel_carousel__1TWpp\",\"slide\":\"Carousel_slide__2inBQ\",\"_active\":\"Carousel__active__1hUGN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Home_grid__1YNYs\",\"item\":\"Home_item__1FYgn\",\"name\":\"Home_name__1DxmH\",\"link\":\"Home_link__TL70U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Photo_header__2qHo6\",\"grid\":\"Photo_grid__2gBwc\",\"item\":\"Photo_item__1LZAT\",\"popup\":\"Photo_popup__36K8m\",\"btn-wrap\":\"Photo_btn-wrap__2YHox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Popup_wrap__3Tlor\",\"overlay\":\"Popup_overlay__1AYS5\",\"body\":\"Popup_body__2WnEX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2_KMK\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const fetchUsers = () => {\r\n    return fetch('https://jsonplaceholder.typicode.com/users')\r\n}\r\n\r\nexport const fetchAlbums = (id) => {\r\n    return fetch(`https://jsonplaceholder.typicode.com/users/${id}/albums`)\r\n}\r\n\r\nexport const fetchAllPhotos = () => {\r\n    return fetch(`https://jsonplaceholder.typicode.com/photos`)\r\n}\r\n\r\nexport const fetchPhotosById = (id) => {\r\n    return fetch(`https://jsonplaceholder.typicode.com/albums/${id}/photos`)\r\n}\r\n","import {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\r\nimport {fetchUsers} from \"../../api\";\r\n\r\nexport const getUsers = createAsyncThunk(\r\n    'getUsers',\r\n    async () => {\r\n        try {\r\n            const response = await fetchUsers()\r\n\r\n            return await response.json()\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n)\r\n\r\nconst initialState = {\r\n    users: [],\r\n}\r\n\r\nconst users = createSlice({\r\n    name: 'users',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: builder => {\r\n        builder.addCase(getUsers.fulfilled, (state, {payload}) => {\r\n            state.users = payload\r\n        })\r\n    }\r\n})\r\n\r\nexport default users.reducer","import {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\r\nimport {fetchAlbums, fetchAllPhotos} from \"../../api\";\r\n\r\nexport const getAlbums = createAsyncThunk(\r\n    'getAlbums',\r\n    async (id) => {\r\n        try {\r\n            const response = await fetchAlbums(id)\r\n\r\n            return await response.json()\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n)\r\n\r\nexport const getPhotos = createAsyncThunk(\r\n    'getPhotos',\r\n    async () => {\r\n        try {\r\n            const response = await fetchAllPhotos()\r\n\r\n            return await response.json()\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n)\r\n\r\nconst initialState = {\r\n    albums: [],\r\n    photos: [],\r\n    currentPhotos: [],\r\n    loading: false,\r\n}\r\n\r\nconst albums = createSlice({\r\n    name: 'albums',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: builder => {\r\n        builder.addCase(getAlbums.pending, (state, {payload}) => {\r\n            state.loading = true\r\n        })\r\n        builder.addCase(getAlbums.fulfilled, (state, {payload}) => {\r\n            state.albums = payload\r\n            state.loading = false\r\n        })\r\n        builder.addCase(getPhotos.fulfilled, (state, {payload}) => {\r\n            state.photos = payload\r\n        })\r\n    }\r\n})\r\n\r\nexport const {} = albums.actions\r\nexport default albums.reducer","import {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\r\nimport {fetchPhotosById} from \"../../api\";\r\n\r\nexport const getPhotosById = createAsyncThunk(\r\n    'getPhotosById',\r\n    async (id) => {\r\n        try {\r\n            const response = await fetchPhotosById(id)\r\n\r\n            return await response.json()\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n)\r\n\r\nconst initialState = {\r\n    photos: [],\r\n    loading: false,\r\n}\r\n\r\nconst photos = createSlice({\r\n    name: 'photos',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: builder => {\r\n        builder.addCase(getPhotosById.pending, (state, {payload}) => {\r\n            state.loading = true\r\n        })\r\n        builder.addCase(getPhotosById.fulfilled, (state, {payload}) => {\r\n            state.photos = payload\r\n            state.loading = false\r\n        })\r\n    }\r\n})\r\n\r\nexport const {} = photos.actions\r\nexport default photos.reducer","import {getUsers} from \"./users/slice\";\r\nimport {getAlbums, getPhotos} from \"./albums/slice\";\r\nimport {getPhotosById} from \"./photos/slice\";\r\n\r\nexport default {getUsers, getAlbums, getPhotos, getPhotosById}","import {useDispatch} from \"react-redux\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport ActionCreators from '../store'\r\n\r\nexport const useActions = () => {\r\n    const dispatch = useDispatch()\r\n    return bindActionCreators(ActionCreators, dispatch)\r\n}","export const takeUsers = (state) => state.users","import React, {useEffect} from 'react';\r\nimport scss from './Home.module.scss'\r\nimport {useActions} from \"../../hooks/useActions\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {takeUsers} from \"../../store/users/selector\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const Home = () => {\r\n    const {getUsers} = useActions()\r\n    const {users} = useSelector(takeUsers)\r\n\r\n    useEffect(() => {\r\n        getUsers()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <h1>Users</h1>\r\n            <div className={scss.grid}>\r\n                {users.map(({name, id}) => (\r\n                    <div key={`${id}`} className={scss.item}>\r\n                        <h3 className={scss.name}>{name}</h3>\r\n                        <Link className={scss.link} to={`/album/${id}`}>View album</Link>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </>\r\n    );\r\n};","export const getMergedAlbums = (state) => {\r\n    return state.albums.albums.map(album => ({\r\n        ...album, photos: state.albums.photos.filter(photo => album.id === photo.albumId)\r\n    }))\r\n}\r\n\r\nexport const getLoading = state => state.albums.loading","import React from 'react';\r\nimport scss from './Button.module.scss'\r\n\r\nexport const Button = ({onClick, children}) => {\r\n    return (\r\n        <button className={scss.button} onClick={onClick}>\r\n            {children}\r\n        </button>\r\n    );\r\n};","import React, {useEffect} from 'react';\r\nimport scss from './Album.module.scss'\r\nimport {useParams, useHistory} from 'react-router-dom'\r\nimport {useActions} from \"../../hooks/useActions\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getLoading, getMergedAlbums} from \"../../store/albums/selector\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Button} from \"../UI/Button\";\r\n\r\nexport const Album = () => {\r\n    const {id} = useParams()\r\n    const albums = useSelector(getMergedAlbums)\r\n    const loading = useSelector(getLoading)\r\n    const {getAlbums, getPhotos} = useActions()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        // этот запрос фото нужен для того чтобы можно было смержить фото с альбомами по id\r\n        // это нужно для того чтобы задать обложку и кол-во фотографий\r\n        getPhotos()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getAlbums(id)\r\n    }, [id])\r\n\r\n    const goBack = () => {\r\n        history.goBack()\r\n    }\r\n\r\n    if(loading) {\r\n        return (<h1>Загрузка...</h1>)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={scss.header}>\r\n                <h1>Albums</h1>\r\n                <Button onClick={goBack}>Back</Button>\r\n            </div>\r\n            <div className={scss.grid}>\r\n                {albums.map(({id, photos, title}) => (\r\n                    <Link to={`/photo/${id}`} className={scss.item} key={`${id}`}>\r\n                        <img className={scss.img} src={photos[0]?.thumbnailUrl} alt=\"image\"/>\r\n                        <h2 className={scss.name}>{title}</h2>\r\n                        <p className={scss['photo-count']}>Кол-во фото: {photos.length}</p>\r\n                    </Link>\r\n                ))}\r\n            </div>\r\n        </>\r\n    );\r\n};","export const takePhotos = (state) => state.photos","import React from 'react';\r\nimport scss from './Popup.module.scss'\r\n\r\nexport const Popup = ({children, setPopupInfo}) => {\r\n    return (\r\n        <div className={scss.wrap}>\r\n            <div onClick={() => setPopupInfo({index: null, open: false})} className={scss.overlay}/>\r\n            <div className={scss.body}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React, {useState} from 'react';\r\nimport scss from './Carousel.module.scss'\r\nimport {Button} from \"../UI/Button\";\r\n\r\nexport const Carousel = ({photos, currentIndex}) => {\r\n    const [activeIndex, setActiveIndex] = useState(currentIndex)\r\n\r\n    const goPrev = () => {\r\n        let index = activeIndex\r\n        const slidesLength = photos.length;\r\n\r\n        if (index < 1) {\r\n            index = slidesLength;\r\n        }\r\n\r\n        --index;\r\n\r\n        setActiveIndex(index)\r\n    }\r\n\r\n    const goNext = () => {\r\n        let index = activeIndex;\r\n        let slidesLength = photos.length - 1;\r\n\r\n        if (index === slidesLength) {\r\n            index = -1;\r\n        }\r\n\r\n        ++index;\r\n\r\n        setActiveIndex(index)\r\n    }\r\n\r\n    return (\r\n        <div className={scss.wrap}>\r\n            <ul className={scss.carousel}>\r\n                {photos.map(({id, url, title}, index) => (\r\n                    <li key={id} className={`${scss.slide} ${index === activeIndex ? `${scss['_active']}` : ''}`}>\r\n                        <img id={id} src={url} alt={title}/>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n\r\n            <div className={scss.btns}>\r\n                <Button onClick={goPrev}>Prev</Button>\r\n                <Button onClick={goNext}>Next</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React, {useEffect, useState} from 'react';\r\nimport scss from './Photo.module.scss'\r\nimport {useHistory, useParams} from 'react-router-dom'\r\nimport {useActions} from \"../../hooks/useActions\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {takePhotos} from \"../../store/photos/selector\";\r\nimport {Button} from \"../UI/Button\";\r\nimport {Popup} from \"../UI/Popup\";\r\nimport {Carousel} from \"../Carousel\";\r\n\r\nexport const Photo = () => {\r\n        const {id} = useParams()\r\n        const {photos, loading} = useSelector(takePhotos)\r\n        const {getPhotosById} = useActions()\r\n        const history = useHistory()\r\n        const [popupInfo, setPopupInfo] = useState({})\r\n\r\n        useEffect(() => {\r\n            getPhotosById(id)\r\n        }, [id])\r\n\r\n        const goBack = () => {\r\n            history.goBack()\r\n        }\r\n\r\n        const handlePopupInfo = (index) => {\r\n            setPopupInfo({index, open: true})\r\n        }\r\n\r\n        if (loading) {\r\n            return (<h1>Загрузка...</h1>)\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div className={scss.header}>\r\n                    <h1>Photos</h1>\r\n                    <Button onClick={goBack}>Back</Button>\r\n                </div>\r\n                <div className={scss.grid}>\r\n                    {photos.map(({id, url, title}, index) => (\r\n                        <div key={id} className={scss.item}>\r\n                            <img src={url} alt={title} onClick={() => handlePopupInfo(index)}/>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className={scss.popup}>\r\n                    {\r\n                        popupInfo.open &&\r\n                        <Popup setPopupInfo={setPopupInfo}>\r\n                            <Carousel photos={photos} currentIndex={popupInfo.index}/>\r\n                        </Popup>\r\n                    }\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n;","import React from 'react';\nimport {Route} from 'react-router-dom'\nimport {Home} from \"./components/Home\";\nimport {Album} from \"./components/Album\";\nimport {Photo} from \"./components/Photo\";\n\nexport const App = () => {\n    return (\n        <div className={'container'}>\n            <Route exact path='/'>\n                <Home />\n            </Route>\n            <Route path='/album/:id'>\n                <Album />\n            </Route>\n            <Route path='/photo/:id'>\n                <Photo />\n            </Route>\n        </div>\n    );\n};","import users from './users/slice'\r\nimport albums from './albums/slice'\r\nimport photos from './photos/slice'\r\n\r\nexport default {users, albums, photos}","import {configureStore} from \"@reduxjs/toolkit\";\r\nimport reducers from './rootReduser'\r\n\r\nexport const store = configureStore({\r\n    reducer: {...reducers}\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css'\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport {App} from \"./App\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store/store\";\n\nReactDOM.render(\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}